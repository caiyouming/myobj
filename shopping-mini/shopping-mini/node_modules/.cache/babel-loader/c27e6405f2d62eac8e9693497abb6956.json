{"remainingRequest":"C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\src\\components\\newlistcontainer\\subComponent\\comment.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\src\\components\\newlistcontainer\\subComponent\\comment.vue","mtime":1538207954209},{"path":"C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417988},{"path":"C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\xampp\\myobj\\shopping-mini\\shoppig-mini\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      msg: '',\n      pageIndex: 0,\n      myShow: []\n    };\n  },\n  methods: {\n    postComment: function postComment() {\n      var _this = this;\n\n      var username = '匿名用户';\n      var nid = this.id;\n      var content = this.msg; //console.log(username,nid,content);\n\n      var url = \"newslist/saveComment\";\n      var obj = {\n        nid: nid,\n        content: content,\n        username: username\n      };\n      this.$http.post(url, obj).then(function (result) {\n        if (result.body.code == 1) {\n          Toast(result.body.msg);\n          _this.msg = '';\n\n          _this.$http.get(\"newslist/commentlist?nid=\" + _this.id).then(function (result) {\n            _this.list = result.body.data.concat(_this.list);\n          });\n        } else Toast(result.body.msg);\n      });\n    },\n    getNewsDetail: function getNewsDetail() {\n      var _this2 = this;\n\n      this.pageIndex++;\n      this.$http.get(\"newslist/commentlist?nid=\" + this.id + '&pno=' + this.pageIndex).then(function (result) {\n        //console.log(result);\n        _this2.list = _this2.list.concat(result.body.data); //console.log(this.list);\n      });\n    }\n  },\n  created: function created() {\n    this.getNewsDetail();\n  },\n  props: ['id']\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA;AAEA,WAAA,EAFA;AAGA,iBAAA,CAHA;AAIA,cAAA;AAJA,KAAA;AAMA,GARA;AASA,WAAA;AACA,eADA,yBACA;AAAA;;AACA,UAAA,WAAA,MAAA;AACA,UAAA,MAAA,KAAA,EAAA;AACA,UAAA,UAAA,KAAA,GAAA,CAHA,CAIA;;AACA,UAAA,4BAAA;AACA,UAAA,MAAA;AAAA,gBAAA;AAAA,wBAAA;AAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,OAAA,IAAA,CAAA,GAAA;AACA,gBAAA,GAAA,GAAA,EAAA;;AACA,gBAAA,KAAA,CAAA,GAAA,CAAA,8BAAA,MAAA,EAAA,EAAA,IAAA,CAAA,kBAAA;AACA,kBAAA,IAAA,GAAA,OAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,WAFA;AAGA,SANA,MAOA,MAAA,OAAA,IAAA,CAAA,GAAA;AACA,OATA;AAUA,KAlBA;AAmBA,iBAnBA,2BAmBA;AAAA;;AACA,WAAA,SAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,8BAAA,KAAA,EAAA,GAAA,OAAA,GAAA,KAAA,SAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,eAAA,IAAA,GAAA,OAAA,IAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,IAAA,CAAA,CAFA,CAGA;AACA,OAJA;AAKA;AA1BA,GATA;AAqCA,SArCA,qBAqCA;AACA,SAAA,aAAA;AACA,GAvCA;AAwCA,SAAA,CAAA,IAAA;AAxCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"newslist_sub\">\r\n    <h4>发表评论</h4>\r\n    <textarea placeholder=\"请输入评论(最多120字)\" maxlength=\"120\" v-model=\"msg\"></textarea>\r\n    <mt-button size=\"large\" type=\"primary\" @click=\"postComment\">发表评论</mt-button>\r\n    <div class=\"cmt-list\" v-for=\"(item,i) in list\">\r\n      <div class=\"cmt-list-item\">\r\n        <div class=\"cmt-title\">\r\n          {{i+1}}楼; {{item.username}}： 发表时间：{{item.ctime | dataFormat}}\r\n        </div>\r\n        <div class=\"cmt-body\">\r\n          {{item.content}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mt-button size=\"large\" type=\"primary\" @click=\"getNewsDetail\">加载更多</mt-button>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {Toast} from 'mint-ui';\r\n  export default({\r\n    data(){\r\n      return {\r\n        list:[],\r\n        msg:'',\r\n        pageIndex:0,\r\n        myShow:[]\r\n      }\r\n    },\r\n    methods:{\r\n      postComment(){\r\n        var username='匿名用户';\r\n        var nid=this.id;\r\n        var content=this.msg;\r\n        //console.log(username,nid,content);\r\n        var url=`newslist/saveComment`;\r\n        var obj={nid,content,username};\r\n        this.$http.post(url,obj).then(result=>{\r\n          if(result.body.code==1){\r\n            Toast(result.body.msg);\r\n            this.msg = '';\r\n            this.$http.get(\"newslist/commentlist?nid=\"+this.id).then(result=>{\r\n              this.list=result.body.data.concat(this.list);\r\n            })\r\n          }  \r\n          else Toast(result.body.msg);\r\n        });\r\n      },\r\n      getNewsDetail(){\r\n        this.pageIndex++\r\n        this.$http.get(\"newslist/commentlist?nid=\"+this.id+'&pno='+this.pageIndex).then(result=>{\r\n          //console.log(result);\r\n          this.list=this.list.concat(result.body.data);\r\n          //console.log(this.list);\r\n        })\r\n      }\r\n    },\r\n    created(){\r\n      this.getNewsDetail();\r\n    },\r\n    props:['id']\r\n  })\r\n\r\n</script>\r\n<style>\r\n  .newslist_sub{\r\n    margin-top:40px;\r\n    font-size:18px;\r\n  }\r\n  .newslist_sub>textarea{\r\n    font-size:14px;\r\n    margin-top:5px;\r\n    padding:10px 5px;\r\n  }\r\n  .newslist_sub>div{\r\n    margin:20px 0;\r\n  }\r\n  .newslist_sub .cmt-title{\r\n    margin-bottom:10px;\r\n    background:rgb(200,110,110);\r\n  }\r\n  .newslist_sub .cmt-title,.cmt-body{\r\n    font-size:14px;\r\n  }\r\n</style>"],"sourceRoot":"src\\components\\newlistcontainer\\subComponent"}]}